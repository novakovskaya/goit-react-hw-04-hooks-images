{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.scss","components/Modal/Modal.module.scss","components/Container/Container.module.scss","components/ImageGallery/ImageGallery.module.scss","components/Button/Button.module.scss","components/Loader/LoaderSpinner.module.scss","services/pixabay.js","components/Container/Container.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/LoaderSpinner.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.scss"],"names":["module","exports","fetchImagesApi","searchQuery","page","fetch","then","response","ok","json","Promise","reject","Error","propTypes","PropTypes","string","isRequired","number","Container","children","className","styles","Searchbar","onSubmit","useState","setSearchQuery","Form","event","preventDefault","trim","toast","error","type","Button","style","width","height","Input","value","onChange","currentTarget","toLowerCase","autoComplete","autoFocus","placeholder","ImageGalleryItem","imagesUrl","imagesAlt","imageId","onClick","GalleryItem","GalleryImage","src","alt","id","ImageGallery","images","onOpenModal","Gallery","map","image","webformatURL","tags","onClickLoadMore","LoaderSpinner","Loader","color","timeout","modalRoot","document","querySelector","Modal","onCloseModal","useEffect","handleKeyDown","code","window","addEventListener","removeEventListener","createPortal","Backdrop","target","Status","App","setPage","imagesArray","setImagesArray","showModal","setShowModal","imagesModal","setImagesModal","status","setStatus","hits","length","resetPage","prevState","scroll","scrollMore","catch","toggleModal","largeImageURL","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.104c49f3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"GalleryItem\":\"ImageGalleryItem_GalleryItem__2AqdL\",\"GalleryImage\":\"ImageGalleryItem_GalleryImage__1tjhZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Backdrop\":\"Modal_Backdrop__2FiRk\",\"Modal\":\"Modal_Modal__32mLz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__11SY1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Gallery\":\"ImageGallery_Gallery__2a0mQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2BYYQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"LoaderSpinner_Loader__NClHf\"};","import PropTypes from \"prop-types\";\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"23966017-42a6e7201c4148adfb36c1add\";\n\nconst fetchImagesApi = (searchQuery, page) => {\n  return fetch(\n    `${BASE_URL}?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n  ).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return Promise.reject(new Error(\"Requested images not found!\"));\n  });\n};\n\nfetchImagesApi.propTypes = {\n  searchQuery: PropTypes.string.isRequired,\n  page: PropTypes.number.isRequired,\n};\n\nexport default fetchImagesApi;\n","import styles from \"./Container.module.scss\";\n\nconst Container = ({ children }) => {\n  return <div className={styles.Container}>{children}</div>;\n};\n\nexport default Container;\n","import { useState } from 'react';\nimport { BsSearch } from 'react-icons/bs';\nimport { toast } from 'react-toastify';\nimport styles from './Searchbar.module.scss';\n\nconst Searchbar = ({ onSubmit }) => {\n  const [searchQuery, setSearchQuery] = useState('');\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (searchQuery.trim() === '') {\n      return toast.error('Enter something');\n    }\n\n    onSubmit(searchQuery);\n    setSearchQuery('');\n  };\n\n  const handleInput = event => {\n    setSearchQuery(event.currentTarget.value.toLowerCase());\n  };\n\n  return (\n    <header className={styles.Searchbar}>\n      <form className={styles.Form} onSubmit={handleSubmit}>\n        <button type='submit' className={styles.Button}>\n          <BsSearch style={{ width: 20, height: 20 }} />\n        </button>\n\n        <input\n          className={styles.Input}\n          type='text'\n          value={searchQuery}\n          onChange={handleInput}\n          autoComplete='off'\n          autoFocus\n          placeholder='Search images and photos'\n        />\n      </form>\n    </header>\n  );\n};\n\nexport default Searchbar;\n","import PropTypes from \"prop-types\";\nimport styles from \"./ImageGalleryItem.module.scss\";\n\nconst ImageGalleryItem = ({ imagesUrl, imagesAlt, imageId, onClick }) => {\n  return (\n    <li className={styles.GalleryItem} onClick={onClick}>\n      <img\n        className={styles.GalleryImage}\n        src={imagesUrl}\n        alt={imagesAlt}\n        id={imageId}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  imagesUrl: PropTypes.string.isRequired,\n  imagesAlt: PropTypes.string.isRequired,\n  imageId: PropTypes.number.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport styles from \"./ImageGallery.module.scss\";\n\nconst ImageGallery = ({ images, onOpenModal }) => {\n  return (\n    <ul className={styles.Gallery}>\n      {images.map((image) => (\n        <ImageGalleryItem\n          key={image.id}\n          imagesUrl={image.webformatURL}\n          imagesAlt={image.tags}\n          imageId={image.id}\n          onClick={() => {\n            onOpenModal(image);\n          }}\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n","import styles from \"./Button.module.scss\";\n\nconst Button = ({ onClickLoadMore }) => {\n  return (\n    <button\n      type=\"button\"\n      className={styles.Button}\n      onClick={() => onClickLoadMore()}\n    >\n      Load more\n    </button>\n  );\n};\n\nexport default Button;\n","import Loader from \"react-loader-spinner\";\nimport styles from \"./LoaderSpinner.module.scss\";\n\nconst LoaderSpinner = () => {\n  return (\n    <Loader\n      className={styles.Loader}\n      type=\"ThreeDots\"\n      color=\"#000000\"\n      height={80}\n      width={80}\n      timeout={3000}\n    />\n  );\n};\n\nexport default LoaderSpinner;\n","import { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport styles from \"./Modal.module.scss\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nconst Modal = ({ onCloseModal, children }) => {\n  useEffect(() => {\n    const handleKeyDown = (event) => {\n      if (event.code === \"Escape\") {\n        onCloseModal();\n      }\n    };\n    window.addEventListener(\"keydown\", handleKeyDown);\n\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, [onCloseModal]);\n\n  const handleBackdropClick = (event) => {\n    if (event.currentTarget === event.target) {\n      onCloseModal();\n    }\n  };\n\n  return createPortal(\n    <div className={styles.Backdrop} onClick={handleBackdropClick}>\n      <div className={styles.Modal}>{children}</div>\n    </div>,\n    modalRoot\n  );\n};\n\nexport default Modal;\n","import { useState, useEffect } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { animateScroll as scroll } from 'react-scroll';\n\nimport fetchImagesApi from './services/pixabay';\nimport Container from './components/Container';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport LoaderSpinner from './components/Loader';\nimport Modal from './components/Modal';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nconst App = () => {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [page, setPage] = useState(1);\n  const [imagesArray, setImagesArray] = useState([]);\n  const [showModal, setShowModal] = useState(false);\n  const [imagesModal, setImagesModal] = useState({});\n  const [status, setStatus] = useState(Status.IDLE);\n\n  useEffect(() => {\n    if (searchQuery === '') {\n      return;\n    }\n\n    setStatus(Status.PENDING);\n\n    fetchImagesApi(searchQuery, page)\n      .then(images => {\n        if (images.hits.length === 0) {\n          toast.error('Requested images not found!');\n          resetPage();\n        } else if (images.hits.length < 12) {\n          setImagesArray(images.hits);\n          setStatus(Status.RESOLVED);\n        } else if (images.hits.length >= 12 && page >= 1) {\n          setImagesArray(prevState => [...prevState, ...images.hits]);\n          setStatus(Status.RESOLVED);\n          scroll.scrollMore(100);\n        }\n      })\n      .catch(error => {\n        toast.error('Requested images not found!');\n        setStatus(Status.REJECTED);\n      });\n  }, [searchQuery, page]);\n\n  const handleFormSubmit = searchQuery => {\n    resetPage();\n    setSearchQuery(searchQuery);\n  };\n\n  const resetPage = () => {\n    setPage(1);\n    setImagesArray([]);\n  };\n\n  const handleLoadMoreBtn = () => {\n    setPage(prevState => prevState + 1);\n  };\n\n  const toggleModal = imagesArray => {\n    setShowModal(!showModal);\n    setImagesModal(imagesArray);\n  };\n\n  return (\n    <Container>\n      <Searchbar onSubmit={handleFormSubmit} />\n\n      <ImageGallery images={imagesArray} onOpenModal={toggleModal} />\n\n      {status === Status.PENDING && <LoaderSpinner />}\n\n      {imagesArray.length >= 12 && (\n        <Button onClickLoadMore={handleLoadMoreBtn} />\n      )}\n\n      {showModal && (\n        <Modal onCloseModal={toggleModal}>\n          <img src={imagesModal.largeImageURL} alt={imagesModal.tags} />\n        </Modal>\n      )}\n\n      <ToastContainer autoClose={1500} />\n    </Container>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2Ep_q\",\"Form\":\"Searchbar_Form__3c5G2\",\"Button\":\"Searchbar_Button__2Cdu_\",\"Input\":\"Searchbar_Input__1wg49\"};"],"sourceRoot":""}
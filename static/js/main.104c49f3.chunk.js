(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{16:function(e,t,n){e.exports={GalleryItem:"ImageGalleryItem_GalleryItem__2AqdL",GalleryImage:"ImageGalleryItem_GalleryImage__1tjhZ"}},17:function(e,t,n){e.exports={Backdrop:"Modal_Backdrop__2FiRk",Modal:"Modal_Modal__32mLz"}},23:function(e,t,n){e.exports={Container:"Container_Container__11SY1"}},24:function(e,t,n){e.exports={Gallery:"ImageGallery_Gallery__2a0mQ"}},25:function(e,t,n){e.exports={Button:"Button_Button__2BYYQ"}},27:function(e,t,n){e.exports={Loader:"LoaderSpinner_Loader__NClHf"}},33:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(4),c=n.n(o),i=(n(33),n(18)),s=n(3),u=n(5),l=(n(34),n(22)),d=n(2),j=n.n(d),m=function(e,t){return fetch("".concat("https://pixabay.com/api/","?q=").concat(e,"&page=").concat(t,"&key=").concat("23966017-42a6e7201c4148adfb36c1add","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.ok?e.json():Promise.reject(new Error("Requested images not found!"))}))};m.propTypes={searchQuery:j.a.string.isRequired,page:j.a.number.isRequired};var b=m,h=n(23),f=n.n(h),g=n(1),p=function(e){var t=e.children;return Object(g.jsx)("div",{className:f.a.Container,children:t})},O=n(28),_=n(7),x=n.n(_),y=function(e){var t=e.onSubmit,n=Object(a.useState)(""),r=Object(s.a)(n,2),o=r[0],c=r[1];return Object(g.jsx)("header",{className:x.a.Searchbar,children:Object(g.jsxs)("form",{className:x.a.Form,onSubmit:function(e){if(e.preventDefault(),""===o.trim())return u.b.error("Enter something");t(o),c("")},children:[Object(g.jsx)("button",{type:"submit",className:x.a.Button,children:Object(g.jsx)(O.a,{style:{width:20,height:20}})}),Object(g.jsx)("input",{className:x.a.Input,type:"text",value:o,onChange:function(e){c(e.currentTarget.value.toLowerCase())},autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},S=n(16),v=n.n(S),k=function(e){var t=e.imagesUrl,n=e.imagesAlt,a=e.imageId,r=e.onClick;return Object(g.jsx)("li",{className:v.a.GalleryItem,onClick:r,children:Object(g.jsx)("img",{className:v.a.GalleryImage,src:t,alt:n,id:a})})},C=n(24),I=n.n(C),w=function(e){var t=e.images,n=e.onOpenModal;return Object(g.jsx)("ul",{className:I.a.Gallery,children:t.map((function(e){return Object(g.jsx)(k,{imagesUrl:e.webformatURL,imagesAlt:e.tags,imageId:e.id,onClick:function(){n(e)}},e.id)}))})},L=n(25),G=n.n(L),M=function(e){var t=e.onClickLoadMore;return Object(g.jsx)("button",{type:"button",className:G.a.Button,onClick:function(){return t()},children:"Load more"})},N=n(26),B=n.n(N),q=n(27),E=n.n(q),R=function(){return Object(g.jsx)(B.a,{className:E.a.Loader,type:"ThreeDots",color:"#000000",height:80,width:80,timeout:3e3})},F=n(17),T=n.n(F),U=document.querySelector("#modal-root"),A=function(e){var t=e.onCloseModal,n=e.children;Object(a.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[t]);return Object(o.createPortal)(Object(g.jsx)("div",{className:T.a.Backdrop,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(g.jsx)("div",{className:T.a.Modal,children:n})}),U)},Q="idle",Y="pending",z="resolved",D="rejected",J=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(1),c=Object(s.a)(o,2),d=c[0],j=c[1],m=Object(a.useState)([]),h=Object(s.a)(m,2),f=h[0],O=h[1],_=Object(a.useState)(!1),x=Object(s.a)(_,2),S=x[0],v=x[1],k=Object(a.useState)({}),C=Object(s.a)(k,2),I=C[0],L=C[1],G=Object(a.useState)(Q),N=Object(s.a)(G,2),B=N[0],q=N[1];Object(a.useEffect)((function(){""!==n&&(q(Y),b(n,d).then((function(e){0===e.hits.length?(u.b.error("Requested images not found!"),E()):e.hits.length<12?(O(e.hits),q(z)):e.hits.length>=12&&d>=1&&(O((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e.hits))})),q(z),l.animateScroll.scrollMore(100))})).catch((function(e){u.b.error("Requested images not found!"),q(D)})))}),[n,d]);var E=function(){j(1),O([])},F=function(e){v(!S),L(e)};return Object(g.jsxs)(p,{children:[Object(g.jsx)(y,{onSubmit:function(e){E(),r(e)}}),Object(g.jsx)(w,{images:f,onOpenModal:F}),B===Y&&Object(g.jsx)(R,{}),f.length>=12&&Object(g.jsx)(M,{onClickLoadMore:function(){j((function(e){return e+1}))}}),S&&Object(g.jsx)(A,{onCloseModal:F,children:Object(g.jsx)("img",{src:I.largeImageURL,alt:I.tags})}),Object(g.jsx)(u.a,{autoClose:1500})]})};c.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(J,{})}),document.getElementById("root"))},7:function(e,t,n){e.exports={Searchbar:"Searchbar_Searchbar__2Ep_q",Form:"Searchbar_Form__3c5G2",Button:"Searchbar_Button__2Cdu_",Input:"Searchbar_Input__1wg49"}}},[[64,1,2]]]);
//# sourceMappingURL=main.104c49f3.chunk.js.map